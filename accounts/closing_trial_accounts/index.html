<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Process for closing GOV.UK PaaS trial accounts - PaaS Team Manual</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://team-manual.cloud.service.gov.uk/accounts/closing_trial_accounts/">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="team-manual.cloud.service.gov.uk" />
      <meta name="twitter:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="Process for closing GOV.UK PaaS trial accounts - PaaS Team Manual" />
      <meta name="twitter:url" content="https://team-manual.cloud.service.gov.uk/accounts/closing_trial_accounts/" />

      <meta property="og:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="PaaS Team Manual" />
      <meta property="og:title" content="Process for closing GOV.UK PaaS trial accounts" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://team-manual.cloud.service.gov.uk/accounts/closing_trial_accounts/" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://team-manual.cloud.service.gov.uk" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          PaaS Team Manual
        </span>
      </a>
        <strong class="govuk-tag">Internal</strong>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search" data-path-to-site-root="/">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://team-manual.cloud.service.gov.uk"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                      <ul>
  <li>
    <a href="#process-for-closing-gov-uk-paas-trial-accounts-deprecated"><span>Process for closing GOV.UK PaaS trial accounts (DEPRECATED)</span></a>
    <ul>
      <li>
        <a href="#accounts-closure-process"><span>Accounts closure process</span></a>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <div class="page-banner">
    <p>This is for internal use by the PaaS team. Public-facing documentation is located at <a href="https://docs.cloud.service.gov.uk">docs.cloud.service.gov.uk</a>.</p>
  </div>

  <h1 id="process-for-closing-gov-uk-paas-trial-accounts-deprecated">Process for closing GOV.UK PaaS trial accounts (DEPRECATED)</h1>

<blockquote>
<p>Parts of the below process no longer apply as we&rsquo;re no longer offering the option to upgrade to paid accounts.</p>
<p>The remaining trial accounts have been informed and will be closed once their trial period ends.</p>
</blockquote>
<p>This process describes how we close old trial accounts to retain historical billing data and prevent infrastructure bills running up.</p>
<p>A closed account:</p>

<ul>
<li>is unusable by the tenant (no <code>cf push</code>, <code>cf start</code>, <code>cf stop</code> or <code>cf scale</code>)</li>
<li>has no services or data </li>
<li>has no applications </li>
<li>is flagged as suspended</li>
<li>has no users associated with the Cloud Foundry org</li>
<li>incurs no costs to us</li>
<li>exists as an empty shell in Cloud Foundry</li>
</ul>
<p><a href="/diagrams/process-for-closing-old-trial-accounts.svg" rel="noopener noreferrer"><img src="/diagrams/process-for-closing-old-trial-accounts.svg" alt="A state diagram showing the possible routes for tenants adopting the paas" /></a></p>
<div class="table-container">
        <table>
          <tr>
<th style="text-align: left">Sequence</th>
<th style="text-align: left">Title</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Max time</th>
</tr><tr>
<th style="text-align: left" scope="row">1</th>
<td style="text-align: left">New tenant</td>
<td style="text-align: left">A new tenant that does not have a PaaS account yet</td>
<td style="text-align: left">Indefinitely</td>
</tr><tr>
<th style="text-align: left" scope="row">2</th>
<td style="text-align: left">Trial</td>
<td style="text-align: left">A tenant with a 90 day trial account with the ability to deploy apps and provision small backing services</td>
<td style="text-align: left">90 days</td>
</tr><tr>
<th style="text-align: left" scope="row">3 Billable</th>
<td style="text-align: left">A full tenant with a billing arrangement that is being recharged for the resource consumed</td>
<td style="text-align: left">Indefinitely</td>
<td style="text-align: left"></td>
</tr><tr>
<th style="text-align: left" scope="row">4</th>
<td style="text-align: left">Suspended</td>
<td style="text-align: left">The org is suspended and the tenant will not be able to perform any operations on apps or services.<br><br>Users will be able to use the apps. Tenants will be able to log in to Cloud Foundry.</td>
<td style="text-align: left">30 days</td>
</tr><tr>
<th style="text-align: left" scope="row">5</th>
<td style="text-align: left">Halted</td>
<td style="text-align: left">The apps are stopped and users will receive &lsquo;404&rsquo; error messages from the platform.<br><br>The data is preserved and the account will still run up bills for the databases</td>
<td style="text-align: left">30 days</td>
</tr><tr>
<th style="text-align: left" scope="row">6</th>
<td style="text-align: left">Removed</td>
<td style="text-align: left">The application instances and services are deleted by an operator.<br><br>Users will see no difference compared to a halted/stopped app, but the tenant will have to re-push the app and re-create any backing services to restore their apps.<br><br>At this point the account cannot incur any billable events and the bill goes to zero.<br><br>All app, services and data are unavailable.</td>
<td style="text-align: left">Indefinitely</td>
</tr>
        </table>
      </div><p><a href="/diagrams/BAU-trial-account-expiry-process-map.svg" rel="noopener noreferrer"><img src="/diagrams/BAU-trial-account-expiry-process-map.svg" alt="BAU trial account expiry process" /></a></p>
<h2 id="accounts-closure-process">Accounts closure process</h2>

<ol>
<li>Review trial organisations<br />

<ul>
<li><a href="https://admin.london.cloud.service.gov.uk/reports/organisations">in the London region</a></li>
<li><a href="https://admin.cloud.service.gov.uk/reports/organisations">in the Ireland region</a></li>
<li>Look for accounts that are 2.5 months in to their 3 month trial period, and still on the trial quota.</li>
</ul></li>
<li>Update the <a href="https://docs.google.com/spreadsheets/d/1bZP7W-5nJxDicJ2lc_eT873zXXjXnHh-qGYJobHUIv8/edit#gid=527069954">backlog list of potential accounts</a> for closure (in PaaS adoption tracker).</li>
<li>Keep track of <a href="https://docs.google.com/spreadsheets/d/1bZP7W-5nJxDicJ2lc_eT873zXXjXnHh-qGYJobHUIv8/edit#gid=949444725">potential accounts for closure</a> in the tracker while contacting org managers.</li>
<li>Keep track of <a href="https://docs.google.com/spreadsheets/d/1bZP7W-5nJxDicJ2lc_eT873zXXjXnHh-qGYJobHUIv8/edit#gid=159027804">closed accounts and cost savings</a> by adding each trial account to the tracker.</li>
<li>Notify tenant (via <a href="https://docs.google.com/document/d/1shOo7PSvWh2CqxSEzqW8Q4OyRCAW3g7xrSGQ9foRfAA/edit#heading=h.v5ekyyl9lqs3">zendesk macro</a> saying the trial account is past the 3 month period and give 2 weeks notice that we will suspend the account state 4 (Suspended). <a href="https://docs.google.com/document/d/1shOo7PSvWh2CqxSEzqW8Q4OyRCAW3g7xrSGQ9foRfAA/edit#">Macros definition</a></li>
<li>If tenant confirms they intend to keep using their account, they need to <a href="https://team-manual.cloud.service.gov.uk/accounts/account_lifecycle/#upgrading-trial-orgs-to-paid-orgs">switch to billable</a> - support engineer and DM to help (track via zendesk).
If tenant says they don’t want the account, go to state 6 (Removed).</li>
<li>If no response from tenant after 2 weeks grace period the support engineer suspends the account - State 4 (Suspended). To suspend use <code>cf curl -X PATCH -d &#39;{&quot;suspended&quot;: true}&#39; &quot;/v3/organizations/$(cf org &lt;ORG-TO-BE-SUSPENDED&gt; --guid)&quot;</code></li>
<li>Notify the tenant that their trial account has been suspended and they have 30 days to tell us they need the account. Make it clear that after this timeframe, we will stop their apps running, but keep their data State 5 (Halted).</li>
<li>If tenant responds, they need to <a href="https://team-manual.cloud.service.gov.uk/accounts/account_lifecycle/#upgrading-trial-orgs-to-paid-orgs">switch to billable</a> - support engineer and DM to help (track via Zendesk).
If tenant says they don’t want the account, go to state 6 (Removed).</li>
<li>If no response from tenant, after the 30 day grace period the support engineer stops apps running state 5 (Halted).</li>
<li>Notify the tenant via Zendesk that we have stopped their apps services.</li>
<li>Pull billing data associated with the trial account and save in <a href="https://drive.google.com/drive/folders/1aq0gSOrDS1EGsq0aEx4dIOYEmy9j5dJL">PaaS team folder</a>.</li>
<li>Notify tenant via Zendesk that in 30 days we will delete any data and all of their apps.</li>
<li>If no response from tenant, after the 30 day grace period the support engineer deletes all apps and services, and removes users - org state 6 (removed).</li>
<li>Support engineer confirms that they have deleted apps and services in <a href="https://docs.google.com/spreadsheets/d/1bZP7W-5nJxDicJ2lc_eT873zXXjXnHh-qGYJobHUIv8/edit#gid=159027804">tracker</a> [column H].</li>
<li>Record cost saving and date of closure in tracker.</li>
</ol>


            
          </main>

          <aside>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/accessibility/">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/application.js"></script>
  </body>
</html>

<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>PaaS Team Manual</title>

    <link href="../../stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://team-manual.cloud.service.gov.uk/architecture_decision_records/ADR043-new-product-pages-language-and-framework/">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="team-manual.cloud.service.gov.uk" />
      <meta name="twitter:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="PaaS Team Manual" />
      <meta name="twitter:url" content="https://team-manual.cloud.service.gov.uk/architecture_decision_records/ADR043-new-product-pages-language-and-framework/" />

      <meta property="og:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="PaaS Team Manual" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://team-manual.cloud.service.gov.uk/architecture_decision_records/ADR043-new-product-pages-language-and-framework/" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://team-manual.cloud.service.gov.uk" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          PaaS Team Manual
        </span>
      </a>
        <strong class="govuk-tag">Internal</strong>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              
              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                      <ul>
  <li>
    <a href="#adr043-new-product-pages-language-and-framework"><span>ADR043: new product pages language and framework</span></a>
    <ul>
      <li>
        <a href="#context"><span>Context</span></a>
      </li>
      <li>
        <a href="#decision"><span>Decision</span></a>
      </li>
      <li>
        <a href="#status"><span>Status</span></a>
      </li>
      <li>
        <a href="#consequences"><span>Consequences</span></a>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <div class="page-banner">
    <p>This is for internal use by the PaaS team. Public-facing documentation is located at <a href="https://docs.cloud.service.gov.uk">docs.cloud.service.gov.uk</a>.</p>
  </div>

  <h1 id="adr043-new-product-pages-language-and-framework">ADR043: new product pages language and framework</h1><h2 id="context">Context</h2><p><a href="https://www.cloud.service.gov.uk/">PaaS product pages</a> have been reviewed and a number of accessibility issues
have been identified. To resolve those we, would need to make an upgrade and
and review if any additional changes are needed to align with the GOV.UK Design System.</p>
<p>As those pages are built in Ruby and in <a href="/architecture_decision_records/ADR024-web-app-language-and-framework-selection-2">ADR024</a> we&rsquo;ve made the decision
to develop our user-facing applications on Node, it&rsquo;s a good opportunity to 
look at rebuilding the product pages.</p>
<p>We&rsquo;ve discussed user needs and it emerged that:</p>

<ul>
<li>anyone in the team (developer and non-developer) should be able to update pages 
with less effort</li>
<li>pages should be performant for end users</li>
<li>pages should be rendered by the server</li>
<li>keeping pages up to date with GOV.UK Design System releases should be quicker and easier</li>
<li>alignment of technologies for our user-facing web products should provide better 
developer experience and give us the option to have shared component libraries</li>
</ul>
<p>With the above in mind we researched options. Our admin interface is built in React,
so we narrowed the scope to React-based static site generators.</p>
<p>We ended up comparing two: <a href="https://nextjs.org/">NextJS</a> with static page export and <a href="https://www.gatsbyjs.org/">GatsbyJS</a> 
which exports static pages by default.
For page content we agreed that writing pages in <a href="https://www.markdownguide.org/getting-started/">Markdown</a> is a good option,
so we tested both with <a href="https://mdxjs.com/">MDX</a> which can also embed React components inside content pages.</p>
<p><a href="https://nextjs.org/">NextJS</a> and <a href="https://www.gatsbyjs.org/">GatsbyJS</a> have different approaches to development and there are minor 
performance differences between them.</p>
<p>Our use case for now is narrow enough, and with the primary need of anyone in the team
being able to update pages, <a href="https://nextjs.org/">NextJS</a> marginally gets more votes as Gatsby cannot be installed and run on
non-developer machines.</p>
<h2 id="decision">Decision</h2><p>We will use <a href="https://nextjs.org/">NextJS</a> together with <a href="https://mdxjs.com/">MDX</a> to author PaaS product pages content in 
<a href="https://www.markdownguide.org/getting-started/">Markdown</a> and deliver them to users as static pages.</p>
<h2 id="status">Status</h2><p>Accepted.</p>
<h2 id="consequences">Consequences</h2><p>This implementation will allow us to:</p>

<ul>
<li>iterate our content more quickly as non-developers will be able to make changes easily</li>
<li>keep our page updated with newer releases of GOV.UK Design System to continue to makem
accessible to everyone and aligned with the latest designs</li>
<li>have both user-facing products on the same platform</li>
<li>allow us to have shared components if the need arises</li>
</ul>


            
          </main>

          <aside>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="../../accessibility/">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >Â© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="../../javascripts/application.js"></script>
  </body>
</html>

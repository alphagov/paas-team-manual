<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>PaaS Team Manual</title>

    <link href="../../stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://team-manual.cloud.service.gov.uk/team/dashboard_mac_mini/">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="team-manual.cloud.service.gov.uk" />
      <meta name="twitter:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="PaaS Team Manual" />
      <meta name="twitter:url" content="https://team-manual.cloud.service.gov.uk/team/dashboard_mac_mini/" />

      <meta property="og:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="PaaS Team Manual" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://team-manual.cloud.service.gov.uk/team/dashboard_mac_mini/" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://team-manual.cloud.service.gov.uk" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          PaaS Team Manual
        </span>
      </a>
        <strong class="govuk-tag">Internal</strong>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              
              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                      <ul>
  <li>
    <a href="#dashboard-mac-mini-amp-chromebox"><span>Dashboard Mac Mini & Chromebox</span></a>
    <ul>
      <li>
        <a href="#outstanding-pull-requests"><span>Outstanding pull requests</span></a>
      </li>
      <li>
        <a href="#concourse-pipelines"><span>Concourse pipelines</span></a>
      </li>
      <li>
        <a href="#pingdom"><span>Pingdom</span></a>
      </li>
      <li>
        <a href="#prometheus-triggered-monitors"><span>Prometheus Triggered Monitors</span></a>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <div class="page-banner">
    <p>This is for internal use by the PaaS team. Public-facing documentation is located at <a href="https://docs.cloud.service.gov.uk">docs.cloud.service.gov.uk</a>.</p>
  </div>

  <h1 id="dashboard-mac-mini-amp-chromebox">Dashboard Mac Mini &amp; Chromebox</h1><p>There are two Mac Minis and a Chromebox attached to big screens in our team area. They can show the
following:</p>

<ul>
<li>Outstanding pull requests</li>
<li>Concourse pipelines</li>
<li>Pingdom public status page</li>
<li>Overview of Prometheus triggered monitors</li>
</ul>
<p>Some combination of the above might be shown according to the whims of the team.
If we want to display multiple different views on a single screen, we use
<a href="https://github.com/dsingleton/frame-splits">frame-splits</a>.</p>
<p>If you need access, you can walk up and use the mouse and keyboard.</p>
<p>The credentials for these machines and for the chromebox are in the <code>paas-pass</code> password store.</p>
<p>In case of an AZ failure you can switch to a Grafana instance in a different AZ by replacing the number in the URL. The available URLs are listed <a href="/technical_design/prometheus/#urls">here</a>.</p>
<h2 id="outstanding-pull-requests">Outstanding pull requests</h2><p>These are shown by <a href="https://github.com/alphagov/fourth-wall">Fourth Wall</a>.</p>
<p>To get the URL for our dashboard, you can use these commands:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>export GITHUB_API_TOKEN=&lt;your github access token&gt;

echo "https://alphagov.github.io/fourth-wall/?token=${GITHUB_API_TOKEN}&amp;team=alphagov/team-government-paas-readonly"
</code></pre></div><p>Replace the placeholders with read-only <a href="https://github.com/blog/1509-personal-api-tokens">access tokens</a> from GitHub.</p>
<p>You can store those variables in a <a href="https://www.passwordstore.org/">password manager like <code>paas</code></a> and load then as needed.</p>
<h2 id="concourse-pipelines">Concourse pipelines</h2><p>This shows the pipelines for staging and production on a single screen. The URLs for the pipelines are:</p>

<ul>
<li><code>https://deployer.london.staging.cloudpipeline.digital/teams/main/pipelines/create-cloudfoundry</code></li>
<li><code>https://deployer.cloud.service.gov.uk/teams/main/pipelines/create-cloudfoundry</code></li>
<li><code>https://deployer.london.cloud.service.gov.uk/teams/main/pipelines/create-cloudfoundry</code></li>
</ul>
<p>We&rsquo;re using a 
<a href="https://framesplits.cloudapps.digital/index.html?title=&amp;layout=3row&amp;url%5B%5D=https%3A%2F%2Fdeployer.london.staging.cloudpipeline.digital%2Fteams%2Fmain%2Fpipelines%2Fcreate-cloudfoundry&amp;url%5B%5D=https%3A%2F%2Fdeployer.cloud.service.gov.uk%2Fteams%2Fmain%2Fpipelines%2Fcreate-cloudfoundry&amp;url%5B%5D=https%3A%2F%2Fdeployer.london.cloud.service.gov.uk%2Fteams%2Fmain%2Fpipelines%2Fcreate-cloudfoundry&amp;url%5B%5D=https%3A%2F%2Fdeployer.london.cloud.service.gov.uk%2Fteams%2Fmain%2Fpipelines%2Fcreate-cloudfoundry">combined dashboard</a>.</p>
<p>We&rsquo;re using a <a href="https://github.com/alphagov/paas-cf/tree/master/misc/chrome_plugins/clean_concourse_pipeline">custom Chrome plugin</a> to hide some of the Concourse page furniture
on the Dashboard.</p>
<h2 id="pingdom">Pingdom</h2><p>You can use the <a href="http://stats.pingdom.com/ejtodj13fqqx">Pingdom public status page</a> (<a href="https://help.pingdom.com/hc/en-us/articles/205386171-Public-Status-Page">and Pingdom public status page documentation</a>) to display the uptime and current status of our healthcheck application. It is not currently presented on the monitors, as we did not find it useful enough. The Pingdom account is shared with other Government-as-a-Platform services, such as Notify, and there is only one shared dashboard for the entire account.</p>
<p>We use the <a href="https://chrome.google.com/webstore/detail/super-easy-auto-refresh/globgafddkdlnalejlkcpaefakkhkdoa?hl=en">Super Easy Auto Refresh Chrome extension</a> to refresh the page.</p>
<h2 id="prometheus-triggered-monitors">Prometheus Triggered Monitors</h2><p>We have created a <a href="https://grafana-1.cloud.service.gov.uk/d/paas-user-impact/user-impact-prod?refresh=5s&amp;orgId=1">dashboard in Grafana, called &lsquo;User Impact - prod&rsquo;</a> and <a href="https://grafana-1.london.cloud.service.gov.uk/d/paas-user-impact/user-impact-prod-lon?refresh=5s&amp;orgId=1">dashboard in Grafana, called &lsquo;User Impact - prod-lon&rsquo;</a>, which displays a count of monitors by trigger status (healthy, warning, critical, or unknown) for each production environment.</p>
<p>The credentials for the Grafana mon users can be found by running <code>make &lt;env&gt; credhub</code> from paas-cf.</p>


            
          </main>

          <aside>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="../../accessibility/">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="../../javascripts/application.js"></script>
  </body>
</html>

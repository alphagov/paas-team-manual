<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>PagerDuty - PaaS Team Manual</title>

    <link href="../../stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://team-manual.cloud.service.gov.uk/team/pagerduty/">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="team-manual.cloud.service.gov.uk" />
      <meta name="twitter:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="PagerDuty - PaaS Team Manual" />
      <meta name="twitter:url" content="https://team-manual.cloud.service.gov.uk/team/pagerduty/" />

      <meta property="og:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="PaaS Team Manual" />
      <meta property="og:title" content="PagerDuty" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://team-manual.cloud.service.gov.uk/team/pagerduty/" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://team-manual.cloud.service.gov.uk" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          PaaS Team Manual
        </span>
      </a>
        <strong class="govuk-tag">Internal</strong>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://team-manual.cloud.service.gov.uk"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                      <ul>
  <li>
    <a href="#pagerduty"><span>PagerDuty</span></a>
    <ul>
      <li>
        <a href="#account"><span>Account</span></a>
      </li>
      <li>
        <a href="#schedules"><span>Schedules</span></a>
      </li>
      <li>
        <a href="#escalation-policies"><span>Escalation policies</span></a>
        <ul>
          <li>
            <a href="#in-hours-only"><span>In hours only</span></a>
          </li>
          <li>
            <a href="#24x7"><span>24x7</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#services"><span>Services</span></a>
      </li>
      <li>
        <a href="#manage-rota"><span>Manage rota</span></a>
        <ul>
          <li>
            <a href="#add-remove-from-rota"><span>Add/remove from rota</span></a>
          </li>
          <li>
            <a href="#temporary-change"><span>Temporary change</span></a>
          </li>
          <li>
            <a href="#swap"><span>Swap</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#respond-to-incidents"><span>Respond to incidents</span></a>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <div class="page-banner">
    <p>This is for internal use by the PaaS team. Public-facing documentation is located at <a href="https://docs.cloud.service.gov.uk">docs.cloud.service.gov.uk</a>.</p>
  </div>

  <h1 id="pagerduty">PagerDuty</h1>
<p>The team uses <a href="https://www.pagerduty.com/">PagerDuty</a> to be notified of platform issues.</p>
<h2 id="account">Account</h2>
<p>Our team account is called <a href="https://governmentdigitalservice.pagerduty.com/">gds-paas</a>.</p>
<p>The account owner sets up individual users who authenticate via username (email) / password. All users are administrators.</p>
<p>Users are invited to add their telephone number(s) to their profile to be able to receive the notifications. Only high-urgency notification rules are used.</p>
<p>There is also a team user called &ldquo;PaaS team&rdquo; that is used to send email notifications to the team. Its credentials are stored in the credentials repository.</p>
<h2 id="schedules">Schedules</h2>
<p>Each schedule represents a set of times when we want to be notified and the list of people that may be notified, one at a time.</p>
<p>We have 3 schedules:</p>

<ul>
<li>In hours support</li>
<li>Out of hours support</li>
<li>Out of hours escalation</li>
</ul>
<h2 id="escalation-policies">Escalation policies</h2>
<p>We have created 2 escalation policies. Depending on the gravity of the incident, we may want to be alerted only during office hours, or all the time including out of hours.</p>
<h3 id="in-hours-only">In hours only</h3>
<p>This creates a single notification for who is on call at that moment. If the alert happens outside of office hours, it falls through to the team email and creates an incident that can be checked the next day.</p>
<h3 id="24x7">24x7</h3>
<p>This policy uses the in hours schedule first. When out of hours, the alert falls through immediately to the out of hours schedule. Failing that, the escalation schedule is used.
The team email notification is added at the end as well to cover any potential gap in the schedules.</p>
<h2 id="services">Services</h2>
<p>We integrate with Pingdom and Prometheus. For each integration we create one in hours service that uses the in hours only escalation policy, and one 24x7 service that uses the 24x7 escalation policy.</p>
<p>A special service called Emergency email is dedicated to urgent platform issues impacting tenants. Sending an email to it triggers a ZenDesk ticket to be created and an incident in PagerDuty. The incident is attached to the <em>24x7</em> escalation policy.</p>
<p>For all services, incidents are not auto resolved and only high-urgency notification rules are used.</p>
<h2 id="manage-rota">Manage rota</h2>
<h3 id="add-remove-from-rota">Add/remove from rota</h3>
<p>Edit the schedule and add the user to the list of users. Be careful as it may change the other users&rsquo; schedule. Don&rsquo;t forget to select <code>Save changes</code>.</p>
<h3 id="temporary-change">Temporary change</h3>
<p>Overrides can be used to temporary replace a default user from the rota with another user. The original rota remains unchanged and PagerDuty reverts to it at the end of the override.</p>
<p>To schedule an override, select <code>Schedule an override</code> on the right handside. It will then be listed under <code>Upcoming overrides</code> on the right handside and can be removed from there.</p>
<h3 id="swap">Swap</h3>
<p>When a user has planned vacation for example, it is better to swap their shift with another user. If user1 wants to swap a shift with user2, create a user2 override for user1&rsquo;s shift, and a user1 override for user2&rsquo;s shift. The 2 shift should be exactly the same duration.</p>
<p>Tip: select the shift you want to override and select <code>Schedule an override</code> from the drop-down menu.</p>
<h2 id="respond-to-incidents">Respond to incidents</h2>
<p>As soon as a notification is received by the user, they should acknowledge the incident. It can be done directly on the phone or via the incidents web page.</p>
<p>If the incident is not resolved it will return to Triggered state after 30min and will alert the same user again.</p>
<p>When the incident is resolved, add a brief note to log what happened.</p>


            
          </main>

          <aside>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="../../accessibility/">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >Â© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="../../javascripts/application.js"></script>
  </body>
</html>
